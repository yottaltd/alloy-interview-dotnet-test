// Note: There can be any number of designs and attributes in the live system

// This is a query for items of type designs_rangers, which have an attributes_areaCode starting with "borkshire-SE-" and a attributes_experience > 100.0
{
    "properties": {
        "designCode": "designs_rangers"
    },
    "children": [
        {
            "type": "And",
            "children": [
                {
                    "type": "StartsWith",
                    "children": [
                        {
                            "type": "Attribute",
                            "properties": {
                                "attributeCode": "attributes_areaCode"
                            }
                        },
                        {
                            "type": "String",
                            "properties": {
                                "value": "borkshire-SE-"
                            }
                        }
                    ]
                },
                {
                    "type": "GreaterThan",
                    "children": [
                        {
                            "type": "Attribute",
                            "properties": {
                                "attributeCode": "attributes_experience"
                            }
                        },
                        {
                            "type": "Number",
                            "properties": {
                                "value": 100.0
                            }
                        }
                    ]
                }
            ]
        }
    ]
}

// This is a query for items of type designs_parks, which have (attributes_charityRevenue - attributes_conservationCosts)/attributes_charityRevenue > 0.7
{
    "properties": {
        "designCode": "designs_parks"
    },
    "children": [
        {
            "type": "LessThan",
            "children": [
                {
                    "type": "Divide",
                    "children": [
                        {
                            "type": "Subtract",
                            "children": [
                                {
                                    "type": "Attribute",
                                    "properties": {
                                        "attributeCode": "attributes_charityRevenue"
                                    }
                                },
                                {
                                    "type": "Attribute",
                                    "properties": {
                                        "attributeCode": "attributes_conservationCosts"
                                    }
                                }
                            ]
                        },
                        {
                            "type": "Attribute",
                            "properties": {
                                "attributeCode": "attributes_charityRevenue"
                            }
                        }
                    ]
                },
                {
                    "type": "Number",
                    "properties": {
                        "value": 0.7
                    }
                }
            ]
        }
    ]
}

// This is a query for items of type designs_trees, which have at least one item referenced in attributes_birdHouses which has an attributes_hasProtectedSpecies value of false
{
    "properties": {
        "designCode": "designs_trees"
    },
    "children": [
        {
            "type": "Equals",
            "children": [
                {
                    "type": "Attribute",
                    "properties": {
                        "path": "root.attributes_birdHouses",
                        "attributeCode": "attributes_hasProtectedSpecies"
                    }
                },
                {
                    "type": "Boolean",
                    "properties": {
                        "value": false
                    }
                }
            ]
        }
    ]
}
